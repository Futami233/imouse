import{createElement as e,Fragment as t,Component as o}from"react";import n from"react-dom";var i=function(){this.isVisible=!1,this.isActive=!1,this.isSelection=!1,this.cursorLeft=0,this.cursorTop=0},r=function(o){function r(e){var t=this;o.call(this,e),this.handleMouseMove=function(e){var o=e.pageX-window.scrollX,n=e.pageY-window.scrollY;t.setState({isVisible:!0,cursorLeft:o,cursorTop:n,isSelection:!document.getSelection().isCollapsed})},this.handleMouseOver=function(e){var o=e.target;t.state.hoverTarget!==o&&(o instanceof HTMLElement&&o.matches(t.props.hoverSelector)?t.setState({hoverTarget:o}):t.setState({hoverTarget:null}))},this.handleMouseLeave=function(){t.setState({isVisible:!1})},this.handleMouseDown=function(){t.setState({isActive:!0})},this.handleMouseUp=function(){t.setState({isActive:!1,isSelection:!document.getSelection().isCollapsed})},this.handleDragStart=function(e){e.preventDefault()},this.state=new i}return o&&(r.__proto__=o),(r.prototype=Object.create(o&&o.prototype)).constructor=r,r.getMountpoint=function(){var e=document.querySelector("."+this.MOUNTPOINT_CLASS);return null==e&&((e=document.createElement("div")).className=this.MOUNTPOINT_CLASS,document.body.appendChild(e)),e},r.init=function(t){void 0===t&&(t={});try{var o=this;return null!=o.instance?Promise.resolve(o.instance):Promise.resolve(o.instance=new Promise(function(i){n.render(e(r,Object.assign({},t,{ref:i})),o.getMountpoint())}))}catch(e){return Promise.reject(e)}},r.prototype.componentDidMount=function(){r.instance=this,document.body.addEventListener("mousemove",this.handleMouseMove),document.body.addEventListener("mouseover",this.handleMouseOver),document.body.addEventListener("mouseleave",this.handleMouseLeave),document.body.addEventListener("mousedown",this.handleMouseDown),document.body.addEventListener("mouseup",this.handleMouseUp),document.body.addEventListener("dragstart",this.handleDragStart)},r.prototype.componentWillUnmount=function(){r.instance=null,document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseover",this.handleMouseOver),document.body.removeEventListener("mouseleave",this.handleMouseLeave),document.body.removeEventListener("mousedown",this.handleMouseDown),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("dragstart",this.handleDragStart)},r.prototype.getStyles=function(){var e=this.props,t=e.defaultSize,o=e.activeSize,n=e.hoverPadding,i=e.activePadding,r=e.hoverRadius,s=e.activeRadius,a=e.selectionWidth,d=e.selectionHeight,u=e.selectionRadius,l=e.blurRadius,c=this.state,h=c.isActive,p=c.isSelection,v=c.hoverTarget,m=c.cursorLeft,f=c.cursorTop,g=Object.assign({},e.style,{position:"fixed",cursor:"none",zIndex:1e7,pointerEvents:"none",opacity:c.isVisible?1:0,backgroundColor:h?e.activeBackgroundColor:e.defaultBackgroundColor,transformOrigin:"center",transitionDuration:e.transitionDuration+"ms",transitionProperty:"width, height, transform, border-radius, background-color, backdrop-filter, -webkit-backdrop-filter"});if(v){var b=v.getBoundingClientRect(),y=h?i:n,S=h?s:r,x=b.left+b.width/2,M=b.top+b.height/2,L=b.width+2*y,w=b.height+2*y;g.left=m+"px",g.top=f+"px",g.width=L+"px",g.height=w+"px",g.transform="translate("+(x-m-L/2)+"px,"+(M-f-w/2)+"px)",g.borderRadius=S+"px"}else if(p)g.left=m+"px",g.top=f+"px",g.width=a+"px",g.height=d+"px",g.transform="translate("+-a/2+"px,"+-d/2+"px)",g.borderRadius=u+"px",g.backdropFilter="blur("+l+"px)",g.WebkitBackdropFilter="blur("+l+"px)";else{var k=h?o:t,E=k/2;g.left=m+"px",g.top=f+"px",g.width=k+"px",g.height=k+"px",g.transform="translate("+-E+"px,"+-E+"px)",g.borderRadius=E+"px",g.backdropFilter="blur("+l+"px)",g.WebkitBackdropFilter="blur("+l+"px)"}return g},r.prototype.render=function(){return e(t,null,e("div",{style:this.getStyles()}),e("style",null,":root, * { cursor: none !important; }"))},r.prototype.destroy=function(){var e=r.getMountpoint();n.unmountComponentAtNode(e),document.body.removeChild(e)},r}(o);r.instance=null,r.MOUNTPOINT_CLASS="imouse-mountpoint",r.defaultProps={defaultBackgroundColor:"rgba(0, 0, 0, .2)",activeBackgroundColor:"rgba(0, 0, 0, .4)",defaultSize:20,activeSize:15,hoverPadding:10,hoverRadius:10,activePadding:5,activeRadius:5,selectionWidth:3,selectionHeight:40,selectionRadius:2,hoverSelector:"a",transitionDuration:200,blurRadius:10,style:{}};export default r;
//# sourceMappingURL=index.mjs.map
