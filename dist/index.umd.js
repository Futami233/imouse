!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):e.imouse=t(e.react,e.ReactDOM)}(this,function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var o=function(){this.isVisible=!1,this.isActive=!1,this.isSelection=!1,this.cursorLeft=0,this.cursorTop=0},n=function(n){function i(e){var t=this;n.call(this,e),this.handleMouseMove=function(e){var o=e.pageX-window.scrollX,n=e.pageY-window.scrollY;t.setState({isVisible:!0,cursorLeft:o,cursorTop:n,isSelection:!document.getSelection().isCollapsed})},this.handleMouseOver=function(e){var o=e.target;t.state.hoverTarget!==o&&(o instanceof HTMLElement&&o.matches(t.props.hoverSelector)?t.setState({hoverTarget:o}):t.setState({hoverTarget:null}))},this.handleMouseLeave=function(){t.setState({isVisible:!1})},this.handleMouseDown=function(){t.setState({isActive:!0})},this.handleMouseUp=function(){t.setState({isActive:!1,isSelection:!document.getSelection().isCollapsed})},this.handleDragStart=function(e){e.preventDefault()},this.state=new o}return n&&(i.__proto__=n),(i.prototype=Object.create(n&&n.prototype)).constructor=i,i.getMountpoint=function(){var e=document.querySelector("."+this.MOUNTPOINT_CLASS);return null==e&&((e=document.createElement("div")).className=this.MOUNTPOINT_CLASS,document.body.appendChild(e)),e},i.init=function(o){void 0===o&&(o={});try{var n=this;return null!=n.instance?Promise.resolve(n.instance):Promise.resolve(n.instance=new Promise(function(r){t.render(e.createElement(i,Object.assign({},o,{ref:r})),n.getMountpoint())}))}catch(e){return Promise.reject(e)}},i.prototype.componentDidMount=function(){i.instance=this,document.body.addEventListener("mousemove",this.handleMouseMove),document.body.addEventListener("mouseover",this.handleMouseOver),document.body.addEventListener("mouseleave",this.handleMouseLeave),document.body.addEventListener("mousedown",this.handleMouseDown),document.body.addEventListener("mouseup",this.handleMouseUp),document.body.addEventListener("dragstart",this.handleDragStart)},i.prototype.componentWillUnmount=function(){i.instance=null,document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseover",this.handleMouseOver),document.body.removeEventListener("mouseleave",this.handleMouseLeave),document.body.removeEventListener("mousedown",this.handleMouseDown),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("dragstart",this.handleDragStart)},i.prototype.getStyles=function(){var e=this.props,t=e.defaultSize,o=e.activeSize,n=e.hoverPadding,i=e.activePadding,r=e.hoverRadius,s=e.activeRadius,a=e.selectionWidth,d=e.selectionHeight,u=e.selectionRadius,c=e.blurRadius,l=this.state,h=l.isActive,p=l.isSelection,v=l.hoverTarget,m=l.cursorLeft,f=l.cursorTop,g=Object.assign({},e.style,{position:"fixed",cursor:"none",zIndex:1e7,pointerEvents:"none",opacity:l.isVisible?1:0,backgroundColor:h?e.activeBackgroundColor:e.defaultBackgroundColor,transformOrigin:"center",transitionDuration:e.transitionDuration+"ms",transitionProperty:"width, height, transform, border-radius, background-color, backdrop-filter, -webkit-backdrop-filter"});if(v){var b=v.getBoundingClientRect(),y=h?i:n,S=h?s:r,x=b.left+b.width/2,M=b.top+b.height/2,L=b.width+2*y,w=b.height+2*y;g.left=m+"px",g.top=f+"px",g.width=L+"px",g.height=w+"px",g.transform="translate("+(x-m-L/2)+"px,"+(M-f-w/2)+"px)",g.borderRadius=S+"px"}else if(p)g.left=m+"px",g.top=f+"px",g.width=a+"px",g.height=d+"px",g.transform="translate("+-a/2+"px,"+-d/2+"px)",g.borderRadius=u+"px",g.backdropFilter="blur("+c+"px)",g.WebkitBackdropFilter="blur("+c+"px)";else{var E=h?o:t,k=E/2;g.left=m+"px",g.top=f+"px",g.width=E+"px",g.height=E+"px",g.transform="translate("+-k+"px,"+-k+"px)",g.borderRadius=k+"px",g.backdropFilter="blur("+c+"px)",g.WebkitBackdropFilter="blur("+c+"px)"}return g},i.prototype.render=function(){return e.createElement(e.Fragment,null,e.createElement("div",{style:this.getStyles()}),e.createElement("style",null,":root, * { cursor: none !important; }"))},i.prototype.destroy=function(){var e=i.getMountpoint();t.unmountComponentAtNode(e),document.body.removeChild(e)},i}(e.Component);return n.instance=null,n.MOUNTPOINT_CLASS="imouse-mountpoint",n.defaultProps={defaultBackgroundColor:"rgba(0, 0, 0, .2)",activeBackgroundColor:"rgba(0, 0, 0, .4)",defaultSize:20,activeSize:15,hoverPadding:10,hoverRadius:10,activePadding:5,activeRadius:5,selectionWidth:3,selectionHeight:40,selectionRadius:2,hoverSelector:"a",transitionDuration:200,blurRadius:10,style:{}},n});
//# sourceMappingURL=index.umd.js.map
